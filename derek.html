<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link href="./public/css/style.css" type=text/css rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <title>Show Me the STATS</title>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">Quarterback</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" aria-current="page" href="baker.html"
                  >Baker Mayfield</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="blake.html">Blake Bortles</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="derek.html">Derek Carr</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <!-- Light grey container -->
    <div class="container bg-light">
      <div class="row">
        <div class="col-md-12">
          <!-- First -->
          <div class="container bg-dark">
            <div class="row">
              <div class="col-md-8">
                <canvas id="baker-chart"> </canvas>
              </div>
              <div class="col-md-4">
                <p class="chart-description">
                  Here we are looking to see the relationship each week betweeen
                  TDs Sacks and Ints. You can almost see a direct correlation
                  between TDs and Sacks. We can guess Baker probably wasn't
                  being pressured much those games.
                </p>
              </div>
            </div>
          </div>
          <!-- first end -->
          <!-- second -->
          <div class="container bg-dark" id="derek-second-img-div">
            <div class="row">
              <div class="col-md-8">
                <img
                  class="chart-img"
                  id="derek-two"
                  src="./public/assets/images/carr-comp-time.png"
                />
              </div>
              <div class="col-md-4">
                <p class="chart-description" id="derek-second-chart-desc">
                  Here in this chart we can see Derek's Completion Percentage
                  each week through the whole season. In this chart the bottom
                  green line again represents 50% and the top is his best
                  percentage performance of the season 91%! WOW! The red line
                  represents his average completion percentage (69.6%), the best
                  of all our featured QB, and the red field is what we can
                  predict his completion percentage to be for the next game with
                  about 95% certainty. Dereks confidence interval is definitely
                  the best of all out featured QB's despite him having one game
                  below 50%.
                </p>
              </div>
            </div>
          </div>
          <!-- second end -->
          <!-- third -->
          <div class="container bg-dark" id="derek-third-div">
            <div class="row">
              <div class="col-md-8">
                <img
                  class="chart-img"
                  id="derek-three"
                  src="./public/assets/images/carr-pass-td-v-att.png"
                />
              </div>
              <div class="col-md-4">
                <p class="chart-description" id="derek-third-desc">
                  Derek's Third Chart matches up pretty well with the assumption
                  of more Passing attempts wquals more Touchdowns. But there is
                  one thing. He did not play week 7. When you go to week 8 his
                  atempts go down but his touchdowns go up. Even after not
                  playing. Was this a bye week? most likely. Charts like these
                  make it muh easier to spot different patterns and anomalies.
                </p>
              </div>
            </div>
          </div>
          <!-- third end -->
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.1.0/dist/chart.min.js"></script>
    <script>
      $(document).ready(function () {
        var xmlHttp = new XMLHttpRequest();
        var url = "http://127.0.0.1:5500/data/derekCarrData.json";
        xmlHttp.open("GET", url, true);
        xmlHttp.send();
        xmlHttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            var data = JSON.parse(this.responseText);
            //  console.log(data)

            var week = data.map(function (game) {
              return game.week;
            });

            var yards = data.map(function (game) {
              return game.PsYds;
            });

            var comp = data.map(function (game) {
              return game.Cmp;
            });

            var att = data.map(function (game) {
              return game.Att;
            });


            var ctx = $("#baker-chart");

            window.myChart = new Chart(ctx, {
              type: "line",
              data: {
                labels: week,
                datasets: [
                  {
                    label: "Derek Carr TDs Per Game/Week",
                    data: yards,
                    backgroundColor: ["red"],
                    borderColor: ["red"],
                    borderWidth: 3,
                    tension: 0.2,
                  },
                  {
                    label: "Derek Carr Ints Per Game/Week",
                    data: comp,
                    backgroundColor: ["green"],
                    borderColor: ["green"],
                    borderWidth: 3,
                    tension: 0.2,
                  },
                  {
                    label: "Derek Carr Sacks Per Game/Week",
                    data: att,
                    backgroundColor: ["orange"],
                    borderColor: ["orange"],
                    borderWidth: 3,
                    tension: 0.2,
                  },
                ],
                options: {
                  scales: {
                    y: {
                      beginAtZero: true,
                    },
                  },
                },
              },
            });
          }
        };
      });
    </script>
  </body>
</html>
