<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link href="./public/css/style.css" type=text/css rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <title>Show Me the STATS</title>
  </head>
  <body>
    <header>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html">Quarterbacks</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="baker.html"
                  >Baker Mayfield</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="blake.html">Blake Bortles</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="derek.html">Derek Carr</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <div>
      <h1>Baker Mayfield</h1>
      <h5 id="intro">Cleveland Browns</h5>
    </div>
    <!-- Light grey container -->
    <div class="container bg-light">
      <div>
        <h5 id="graph-intro">Click Color Box to Hide/Show Specific Line.</h5>
      </div>
      <div class="row">
        <div class="col-md-12">
          <!-- First -->
          <div class="container bg-dark">
            <div class="row">
              <div class="col-md-8">
                <canvas id="baker-chart"> </canvas>
              </div>
              <div class="col-md-4">
                <p class="chart-description">
                  Here we are looking to see the relationship each week betweeen
                  Yards Attempts and Completions. You can almost see a direct correlation
                  between Attempts and Yards. 
                </p>
              </div>
            </div>
          </div>
          <!-- first end -->
          <!-- second -->
          <div class="container bg-dark" id="second-img-div">
            <div class="row">
              <div class="col-md-8">
                <img
                  class="chart-img"
                  src="./public/assets/images/mayfield-comp-time.png"
                />
              </div>
              <div class="col-md-4">
                <p class="chart-description" id="baker-two">
                  In this chart we can see Baker's Completion Percentage
                  each week through the season. The bottom
                  green line represents 50% and at the top is his best
                  percentage performance of 85%. The red line represents his
                  average completion percentage, 65.8%, and the red field is
                  what we can predict his completion percentage to be for the
                  next game with about 95% certainty. This is called a
                  Confidence Interval.
                </p>
              </div>
            </div>
          </div>
          <!-- second end -->
          <!-- third -->
          <div class="container bg-dark" id="baker-img-three">
            <div class="row">
              <div class="col-md-8">
                <img
                  class="chart-img"
                  id="baker-chart-img"
                  src="./public/assets/images/mayfield-pass-td-v-att.png"
                />
              </div>
              <div class="col-md-4">
                <p class="chart-description" id="baker-last">
                  One obvious assumption you could make is as pass attempts go
                  up so will Passing TDs. This chart shows that that might not
                  necessarily be true. You can look at weeks 12-13 and see he
                  went from 25 passing attempts to over 40 and from throwing 4
                  touchdowns to only 1. Knowing this will lead you to asking
                  other questions about defensive pressure, sacks, and receiver
                  stats to help point out areas that need improvement.
                </p>
              </div>
            </div>
          </div>
          <!-- third end -->
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.1.0/dist/chart.min.js"></script>
    <script>
      $(document).ready(function () {
        var xmlHttp = new XMLHttpRequest();
        var url = "http://127.0.0.1:5500/data/bakerMayfieldData.json";
        xmlHttp.open("GET", url, true);
        xmlHttp.send();
        xmlHttp.onreadystatechange = function () {
          if (this.readyState == 4 && this.status == 200) {
            var data = JSON.parse(this.responseText);
            //  console.log(data)

            var week = data.map(function (game) {
              return game.week;
            });

            var yards = data.map(function (game) {
              return game.PsYds;
            });

            var comp = data.map(function (game) {
              return game.Cmp;
            });

            var att = data.map(function (game) {
              return game.Att;
            });


            var ctx = $("#baker-chart");

            window.myChart = new Chart(ctx, {
              type: "line",
              data: {
                labels: week,
                datasets: [
                  {
                    label: "Baker Mayfield Yards Per Game/Week",
                    data: yards,
                    backgroundColor: ["red"],
                    borderColor: ["red"],
                    borderWidth: 3,
                    tension: 0.2,
                  },
                  {
                    label: "Baker Mayfield Completions Per Game/Week",
                    data: comp,
                    backgroundColor: ["green"],
                    borderColor: ["green"],
                    borderWidth: 3,
                    tension: 0.2,
                  },
                  {
                    label: "Baker Mayfield Pass Attempts Per Game/Week",
                    data: att,
                    backgroundColor: ["orange"],
                    borderColor: ["orange"],
                    borderWidth: 3,
                    tension: 0.2,
                  },
                ],
                options: {
                  scales: {
                    y: {
                      beginAtZero: true,
                    },
                  },
                },
              },
            });
          }
        };
      });
    </script>
  </body>
</html>
